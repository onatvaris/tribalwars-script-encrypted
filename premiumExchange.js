const a0_0x436f8d=a0_0x4ae6;(function(_0x11695f,_0x2f0bf5){const _0x3795ea=a0_0x4ae6,_0x27a440=_0x11695f();while(!![]){try{const _0x373c8b=-parseInt(_0x3795ea(0x217))/0x1*(parseInt(_0x3795ea(0x225))/0x2)+-parseInt(_0x3795ea(0x1f2))/0x3+-parseInt(_0x3795ea(0x21b))/0x4*(parseInt(_0x3795ea(0x1f7))/0x5)+-parseInt(_0x3795ea(0x22c))/0x6*(-parseInt(_0x3795ea(0x208))/0x7)+-parseInt(_0x3795ea(0x228))/0x8*(parseInt(_0x3795ea(0x202))/0x9)+parseInt(_0x3795ea(0x21f))/0xa*(-parseInt(_0x3795ea(0x207))/0xb)+-parseInt(_0x3795ea(0x216))/0xc*(-parseInt(_0x3795ea(0x1fd))/0xd);if(_0x373c8b===_0x2f0bf5)break;else _0x27a440['push'](_0x27a440['shift']());}catch(_0x5bcb99){_0x27a440['push'](_0x27a440['shift']());}}}(a0_0x3c5e,0x2c1c2),window['isBuying']=![]);let buyTimeout=null;function canBuy(){const _0x4bf65f=a0_0x4ae6;if(window[_0x4bf65f(0x22f)])return console[_0x4bf65f(0x20f)](_0x4bf65f(0x223)),![];const _0x3f7994=localStorage[_0x4bf65f(0x205)]('lastBuyTime');if(!_0x3f7994)return!![];const _0x167cb2=Date[_0x4bf65f(0x22e)]()-parseInt(_0x3f7994),_0x5681ee=0x1388;if(_0x167cb2<_0x5681ee)return console[_0x4bf65f(0x20f)](_0x4bf65f(0x219)+Math[_0x4bf65f(0x213)]((_0x5681ee-_0x167cb2)/0x3e8)+_0x4bf65f(0x226)),![];return!![];}function resetBuyingState(){const _0x472a10=a0_0x4ae6;buyTimeout&&(clearTimeout(buyTimeout),buyTimeout=null),window['isBuying']=![],console[_0x472a10(0x20f)](_0x472a10(0x224));}function buy(_0x80d86a=a0_0x436f8d(0x21e),_0x40de03=0x12c){const _0x252c1e=a0_0x436f8d;if(!canBuy())return;window[_0x252c1e(0x22f)]=!![],console[_0x252c1e(0x20f)](_0x252c1e(0x1f4),_0x80d86a,_0x40de03),buyTimeout=setTimeout(()=>{resetBuyingState();},0x1388);let _0x548e88={};_0x548e88[_0x252c1e(0x1f5)+_0x80d86a]=_0x40de03,_0x548e88['h']=game_data['csrf'],TribalWars['post'](_0x252c1e(0x22a),{'ajaxaction':'exchange_begin'},_0x548e88,function(_0x3c6e7){const _0x44e4cc=_0x252c1e;if(_0x3c6e7[0x0][_0x44e4cc(0x21d)]){console[_0x44e4cc(0x20f)](_0x44e4cc(0x227),_0x3c6e7);return;}let _0x5be347=_0x3c6e7[0x0][_0x44e4cc(0x203)],_0x2081de=_0x3c6e7[0x0][_0x44e4cc(0x229)];_0x548e88[_0x44e4cc(0x20e)+_0x80d86a]=_0x5be347,_0x548e88[_0x44e4cc(0x1f5)+_0x80d86a]=_0x2081de,_0x548e88['mb']=0x1,_0x548e88['h']=game_data[_0x44e4cc(0x218)],TribalWars[_0x44e4cc(0x1f8)]={'TribalWarsTE':0x1},console[_0x44e4cc(0x20f)]('begin\x20success',_0x3c6e7),TribalWars[_0x44e4cc(0x1fa)]('market',{'ajaxaction':_0x44e4cc(0x1fe)},_0x548e88,function(_0x491e3a){const _0x4bb5d4=_0x44e4cc;_0x491e3a[_0x4bb5d4(0x210)]?(localStorage[_0x4bb5d4(0x1f6)](_0x4bb5d4(0x1f3),Date[_0x4bb5d4(0x22e)]()[_0x4bb5d4(0x214)]()),UI[_0x4bb5d4(0x20b)](_0x4bb5d4(0x1ff)+_0x2081de+'\x20'+_0x80d86a+'!'),console[_0x4bb5d4(0x20f)](_0x4bb5d4(0x20c),_0x2081de,_0x80d86a)):console['log']('Purchase\x20failed\x20at\x20confirm\x20stage:',_0x491e3a);});});}function a0_0x3c5e(){const _0x3c251d=['Purchase\x20successful:','childList','rate_','log','success','maxAmount','textContent','ceil','toString','premium_exchange_stock_wood','10788vBJAcg','7WYyFMV','csrf','Cannot\x20purchase\x20yet.\x20Please\x20wait\x20','Refreshing\x20page...','10852Xvowrm','target','error','iron','106610yahtTH','premium_exchange_stock_iron','toFixed','reload','Purchase\x20already\x20in\x20progress.','Buying\x20state\x20reset.','50614LKBHGq','\x20more\x20seconds.','Purchase\x20failed\x20at\x20begin\x20stage:','24YPiYTI','amount','market','premium_exchange_stock_stone','84KERfyz','isCanBuyIron','now','isBuying','84927uzEQwv','lastBuyTime','Starting\x20purchase:','buy_','setItem','290WIVYVf','_ah','getElementById','post','btn-premium-exchange-buy','observe','7605XDJQCd','exchange_confirm','Bought\x20','random','type','166779nGqDOg','rate_hash','split','getItem','Updated\x20TD\x20value:','154KBQRSz','111209obMVUN','Updated\x20value\x20for\x20','getElementsByClassName','SuccessMessage'];a0_0x3c5e=function(){return _0x3c251d;};return a0_0x3c5e();}function handleMutation(_0x1a7495,_0x143a82){const _0x2bde8d=a0_0x436f8d;console[_0x2bde8d(0x20f)]({'mutationsList':_0x1a7495,'observer':_0x143a82});for(const _0xec125d of _0x1a7495){if(_0xec125d[_0x2bde8d(0x201)]===_0x2bde8d(0x20d)||_0xec125d[_0x2bde8d(0x201)]==='characterData'){const _0x1f5d10=_0xec125d[_0x2bde8d(0x21c)]['id'],_0x1b19a7=_0xec125d[_0x2bde8d(0x21c)][_0x2bde8d(0x212)];console[_0x2bde8d(0x20f)](_0x2bde8d(0x209)+_0x1f5d10['split']('_')[0x3]+':\x20'+_0x1b19a7);const _0x3d0a60=document[_0x2bde8d(0x20a)](_0x2bde8d(0x1fb))[0x0]['disabled'];console[_0x2bde8d(0x20f)](_0x2bde8d(0x206),_0xec125d['target'][_0x2bde8d(0x212)],_0x3d0a60),_0xec125d[_0x2bde8d(0x21c)][_0x2bde8d(0x212)]>=window[_0x2bde8d(0x211)]&&!window[_0x2bde8d(0x22f)]&&!_0x3d0a60&&(console['log']('Triggering\x20purchase\x20for:',_0x1f5d10[_0x2bde8d(0x204)]('_')[0x3]),buy(_0x1f5d10[_0x2bde8d(0x204)]('_')[0x3],_0x1b19a7*0x3/0x4));}}}function scheduleRandomRefresh(){const _0x1895a6=a0_0x436f8d,{minMinutes:_0x55da14,maxMinutes:_0x3d3652}=window,_0x7d4220=Math[_0x1895a6(0x200)]()*(_0x3d3652-_0x55da14)+_0x55da14,_0x48c92a=_0x7d4220*0x3c*0x3e8;console[_0x1895a6(0x20f)]('Page\x20will\x20refresh\x20in\x20'+_0x7d4220[_0x1895a6(0x221)](0x2)+'\x20minutes'),setTimeout(()=>{const _0x35834a=_0x1895a6;console['log'](_0x35834a(0x21a)),location[_0x35834a(0x222)]();},_0x48c92a);}function a0_0x4ae6(_0x478ad2,_0x2a4ef4){const _0x3c5e16=a0_0x3c5e();return a0_0x4ae6=function(_0x4ae61d,_0x4cb5e4){_0x4ae61d=_0x4ae61d-0x1f2;let _0x36d679=_0x3c5e16[_0x4ae61d];return _0x36d679;},a0_0x4ae6(_0x478ad2,_0x2a4ef4);}(function(){const _0x8f5dcf=a0_0x436f8d,{isCanBuyStone:_0x393bf3}=window;if(_0x393bf3){const _0x51f088=new MutationObserver(handleMutation);_0x51f088[_0x8f5dcf(0x1fc)](document[_0x8f5dcf(0x1f9)](_0x8f5dcf(0x22b)),{'attributes':!![],'childList':!![],'subtree':!![],'characterData':!![]});}if(window['isCanBuyWood']){const _0x35bf89=new MutationObserver(handleMutation);_0x35bf89[_0x8f5dcf(0x1fc)](document['getElementById'](_0x8f5dcf(0x215)),{'attributes':!![],'childList':!![],'subtree':!![],'characterData':!![]});}if(window[_0x8f5dcf(0x22d)]){const _0x305293=new MutationObserver(handleMutation);_0x305293[_0x8f5dcf(0x1fc)](document[_0x8f5dcf(0x1f9)](_0x8f5dcf(0x220)),{'attributes':!![],'childList':!![],'subtree':!![],'characterData':!![]});}scheduleRandomRefresh();}());